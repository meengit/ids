{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_js/config.js","_js/main.js","_js/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","LOCATION","window","location","IMG_DIR","MOBILE","DESK","LOGOBAR","GHB_LINK","GHB_LOGO","GFZ_LINK","GFZ_LOGO","MFF_LINK","MFF_LOGO","_config","config","_utils","$","logobar","obj","media","setAttr","elements","values","attribute","each","index","element","attr","links","find","imgs","logos","urls","logoBasePath","origin","setLogoUrl","device","Mql","MediaQueryListener","document","ready","on","breakpoint","search","toggle","toggleTop","console","log","show","removeEvtListener","jQuery","elClone","clone","replaceWith","sticky","bind","pos","eHeight","$e","height","eTop","scrollTop","body","css","position","animate","top","scroll","resize","evt","getElementById","addEventListener","preventDefault","is","addClass","removeClass","_classCallCheck","this","init","afterElement","_resizeListener","_this","currentBreakpoint","getPropertyValue","lastBreakpoint","trigger","getComputedStyle"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const LOCATION = window.location;\nexport const IMG_DIR = '/img';\nexport const MOBILE = '/mobile';\nexport const DESK = '/desktop';\n\nexport const LOGOBAR = '/logobar';\nexport const GHB_LINK = 'https://github.com/meengit/ids';\nexport const GHB_LOGO = '/github.png';\nexport const GFZ_LINK = 'http://gfz.ch';\nexport const GFZ_LOGO = '/gfz.png';\nexport const MFF_LINK = 'http://www.medienformfarbe.ch/';\nexport const MFF_LOGO = '/mff.png';\n","import * as config from './config';\nimport { Mql, removeEvtListener, toggleTop } from './utils';\n\n(($) => {\n  let mql = new Mql();\n  mql.MediaQueryListener();\n  function logobar(obj, media) {\n    let links = $(obj).find('a');\n    let imgs = $(obj).find('img');\n    let logos = [ config.GHB_LOGO, config.GFZ_LOGO, config.MFF_LOGO ];\n    let urls = [ config.GHB_LINK, config.GFZ_LINK, config.MFF_LINK ];\n    let logoBasePath = config.LOCATION.origin + config.IMG_DIR + config.LOGOBAR;\n\n    function setAttr(elements, values, attribute) {\n      $(elements).each(function (index, element) {\n        $(element).attr(attribute, values[index]);\n      });\n    }\n\n    let setLogoUrl = (device) => {\n      for (let i = 0; i < logos.length; i = i + 1) {\n        logos[i] = logoBasePath + device + logos[i];\n      }\n      return logos;\n    };\n\n    if (media === 'm') {\n      setAttr(links, urls, 'href');\n      setAttr(imgs, setLogoUrl(config.MOBILE), 'src');\n    }\n\n    if (media === 'd') {\n      setAttr(links, urls, 'href');\n      setAttr(imgs, setLogoUrl(config.DESK), 'src');\n    }\n  }\n\n  $(document).ready(function () {\n    $(window).on('breakpoint-change', (e, breakpoint) => {\n      if (breakpoint.search('mini') >= 0) {\n        logobar('#logobar', 'm');\n        $('nav').toggle();\n        toggleTop('btn_mobilenav', 'click');\n        toggleTop('btn_mobilenav', 'touchend');\n        console.log('mini', breakpoint.length); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('small') >= 0) {\n        logobar('#logobar', 'm');\n        $('nav').toggle();\n        toggleTop('btn_mobilenav', 'click');\n        toggleTop('btn_mobilenav', 'touchend');\n        console.log('small'); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('medium') >= 0) {\n        logobar('#logobar', 'd');\n        $('nav').show();\n        removeEvtListener($('#btn_mobilenav'));\n        console.log('medium'); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('large') >= 0) {\n        logobar('#logobar', 'd');\n        $('nav').show();\n        removeEvtListener($('#btn_mobilenav'));\n        console.log('large'); // eslint-disable-line no-console\n      }\n    });\n    // end of window breakpoint-change\n  });\n  // end of document ready by jQuery\n})(jQuery);\n","export class Mql {\n  constructor() {\n    this.init = function () {\n      if (!this.afterElement) {\n        // If the browser doesn't support window.getComputedStyle just return\n        return;\n      }\n      this._resizeListener(); // eslint-disable-line no-underscore-dangle\n    };\n\n    this._resizeListener = function () { // eslint-disable-line no-underscore-dangle\n      $(window).on('resize orientationchange load', () => {\n        this.currentBreakpoint = this.afterElement.getPropertyValue('content');\n        if (this.currentBreakpoint !== this.lastBreakpoint) {\n          $(window).trigger('breakpoint-change', this.currentBreakpoint);\n          this.lastBreakpoint = this.currentBreakpoint;\n        }\n      });\n    };\n  }\n  // end of constructor\n\n  MediaQueryListener() {\n    this.afterElement = window.getComputedStyle ? window.getComputedStyle(document.body, ':after') : false;\n    this.currentBreakpoint = '';\n    this.lastBreakpoint = '';\n    this.init();\n  }\n}\n\nexport function removeEvtListener(element) {\n  let elClone = element.clone(true);\n  element.replaceWith(elClone);\n}\n\n// element[string], target[obj]\nexport function sticky(e, t) {\n  t.bind('load', () => {\n    let eHeight = 0;\n    let eTop = 0;\n    let $e = $(e);\n\n    function pos() {\n      eHeight = $e.height();\n      eTop = t.scrollTop()+t.height()-eHeight+'px';\n      if ($(document.body).height() < t.height()) {\n        $e.css({\n          position: 'absolute'\n        }).animate({\n          top: eTop\n        });\n      } else {\n        $e.css({\n          position: 'static'\n        });\n      }\n    }\n\n    pos();\n    $(window).scroll(pos).resize(pos);\n  });\n  // end of bind\n}\n// end of ids.sticky\n\nexport function toggleTop(obj, evt) {\n  document.getElementById(obj).addEventListener(evt, (e) => {\n    e.preventDefault();\n    $('nav').animate({\n      height: 'toggle'\n    }, 200, () => {\n    ($('nav').is(':visible')) ? $('body').addClass('no-scroll') : $('body').removeClass('no-scroll');\n    });\n    // end of nav.animate\n  }, false);\n}\n// end of ids.nav\n"]}