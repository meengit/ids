{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_js/config.js","_js/main.js","_js/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","LOCATION","window","location","IMG_DIR","MOBILE","DESK","LOGOBAR","GHB_LINK","GHB_LOGO","GFZ_LINK","GFZ_LOGO","MFF_LINK","MFF_LOGO","_config","config","_utils","$","logobar","obj","media","setAttr","elements","values","attribute","each","index","element","attr","links","find","imgs","logos","urls","logoBasePath","origin","setLogoUrl","device","Mql","MediaQueryListener","document","ready","on","breakpoint","search","toggle","toggleTop","console","log","show","pathname","addClass","removeEvtListener","resizeToViewportHeight","jQuery","eleH","height","winH","heaH","fotH","css","elClone","clone","replaceWith","sticky","bind","pos","eHeight","$e","eTop","scrollTop","body","position","animate","top","scroll","resize","evt","getElementById","addEventListener","preventDefault","is","removeClass","_classCallCheck","this","init","afterElement","_resizeListener","_this","currentBreakpoint","getPropertyValue","lastBreakpoint","trigger","getComputedStyle"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const LOCATION = window.location;\nexport const IMG_DIR = '/img';\nexport const MOBILE = '/mobile';\nexport const DESK = '/desktop';\n\nexport const LOGOBAR = '/logobar';\nexport const GHB_LINK = 'https://github.com/meengit/ids';\nexport const GHB_LOGO = '/github.png';\nexport const GFZ_LINK = 'http://gfz.ch';\nexport const GFZ_LOGO = '/gfz.png';\nexport const MFF_LINK = 'http://www.medienformfarbe.ch/';\nexport const MFF_LOGO = '/mff.png';\n","import * as config from './config';\nimport { Mql, removeEvtListener, resizeToViewportHeight, toggleTop } from './utils';\n\n(($) => {\n  let mql = new Mql();\n  mql.MediaQueryListener();\n  function logobar(obj, media) {\n    let links = $(obj).find('a');\n    let imgs = $(obj).find('img');\n    let logos = [ config.GHB_LOGO, config.GFZ_LOGO, config.MFF_LOGO ];\n    let urls = [ config.GHB_LINK, config.GFZ_LINK, config.MFF_LINK ];\n    let logoBasePath = config.LOCATION.origin + '/ids' + config.IMG_DIR + config.LOGOBAR;\n\n    function setAttr(elements, values, attribute) {\n      $(elements).each(function (index, element) {\n        $(element).attr(attribute, values[index]);\n      });\n    }\n\n    let setLogoUrl = (device) => {\n      for (let i = 0; i < logos.length; i = i + 1) {\n        logos[i] = logoBasePath + device + logos[i];\n      }\n      return logos;\n    };\n\n    if (media === 'm') {\n      setAttr(links, urls, 'href');\n      setAttr(imgs, setLogoUrl(config.MOBILE), 'src');\n    }\n\n    if (media === 'd') {\n      setAttr(links, urls, 'href');\n      setAttr(imgs, setLogoUrl(config.DESK), 'src');\n    }\n  }\n\n  $(document).ready(function () {\n    $(window).on('breakpoint-change', (e, breakpoint) => {\n      if (breakpoint.search('mini') >= 0) {\n        logobar('#logobar', 'm');\n        $('nav').toggle();\n        toggleTop('btn_mobilenav', 'click');\n        toggleTop('btn_mobilenav', 'touchend');\n        console.log('mini', breakpoint.length); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('small') >= 0) {\n        logobar('#logobar', 'm');\n        $('nav').toggle();\n        toggleTop('btn_mobilenav', 'click');\n        toggleTop('btn_mobilenav', 'touchend');\n        console.log('small'); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('medium') >= 0) {\n        logobar('#logobar', 'd');\n        $('nav').show().find('a[href=\"'+ config.LOCATION.pathname +'\"]').addClass('active');\n        removeEvtListener($('#btn_mobilenav'));\n        console.log('medium'); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('large') >= 0) {\n        logobar('#logobar', 'd');\n        $('nav').show();\n        $('nav').find('a[href=\"'+ config.LOCATION.pathname +'\"]').addClass('active');\n        removeEvtListener($('#btn_mobilenav'));\n        console.log('large'); // eslint-disable-line no-console\n      }\n\n      if (breakpoint.search('extra') >= 0) {\n        logobar('#logobar', 'd');\n        $('nav').show();\n        $('nav').find('a[href=\"'+ config.LOCATION.pathname +'\"]').addClass('active');\n        removeEvtListener($('#btn_mobilenav'));\n        resizeToViewportHeight($('article'));\n        console.log('extra'); // eslint-disable-line no-console\n      }\n    });\n    // end of window breakpoint-change\n  });\n  // end of document ready by jQuery\n})(jQuery);\n","export class Mql {\n  constructor() {\n    this.init = function () {\n      if (!this.afterElement) {\n        // If the browser doesn't support window.getComputedStyle just return\n        return;\n      }\n      this._resizeListener(); // eslint-disable-line no-underscore-dangle\n    };\n\n    this._resizeListener = function () { // eslint-disable-line no-underscore-dangle\n      $(window).on('resize orientationchange load', () => {\n        this.currentBreakpoint = this.afterElement.getPropertyValue('content');\n        if (this.currentBreakpoint !== this.lastBreakpoint) {\n          $(window).trigger('breakpoint-change', this.currentBreakpoint);\n          this.lastBreakpoint = this.currentBreakpoint;\n        }\n      });\n    };\n  }\n  // end of constructor\n\n  MediaQueryListener() {\n    this.afterElement = window.getComputedStyle ? window.getComputedStyle(document.body, ':after') : false;\n    this.currentBreakpoint = '';\n    this.lastBreakpoint = '';\n    this.init();\n  }\n}\n\nexport function resizeToViewportHeight(element) {\n  let eleH = element.height();\n  let winH = $(window).height();\n  let heaH = $('header').height();\n  let fotH = $('footer').height();\n\n  if (winH - heaH - fotH > eleH + heaH + fotH) {\n    element.css('height', (winH - heaH - fotH) + 'px');\n  }\n}\n\nexport function removeEvtListener(element) {\n  let elClone = element.clone(true);\n  element.replaceWith(elClone);\n}\n\n// element[string], target[obj]\nexport function sticky(e, t) {\n  t.bind('load', () => {\n    let eHeight = 0;\n    let eTop = 0;\n    let $e = $(e);\n\n    function pos() {\n      eHeight = $e.height();\n      eTop = t.scrollTop()+t.height()-eHeight+'px';\n      if ($(document.body).height() < t.height()) {\n        $e.css({\n          position: 'absolute'\n        }).animate({\n          top: eTop\n        });\n      } else {\n        $e.css({\n          position: 'static'\n        });\n      }\n    }\n\n    pos();\n    $(window).scroll(pos).resize(pos);\n  });\n  // end of bind\n}\n// end of ids.sticky\n\nexport function toggleTop(obj, evt) {\n  document.getElementById(obj).addEventListener(evt, (e) => {\n    e.preventDefault();\n    $('nav').animate({\n      height: 'toggle'\n    }, 200, () => {\n    ($('nav').is(':visible')) ? $('body').addClass('no-scroll') : $('body').removeClass('no-scroll');\n    });\n    // end of nav.animate\n  }, false);\n}\n// end of ids.nav\n"]}